(this["webpackJsonpsocial-network-js"]=this["webpackJsonpsocial-network-js"]||[]).push([[0],{12:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__1SdrZ",dialogsItems:"Dialogs_dialogsItems__8qn9j",active:"Dialogs_active__1Z8FE",dialog:"Dialogs_dialog__2wsPZ",messages:"Dialogs_messages__JaQNL",message:"Dialogs_message__2_9By"}},14:function(e,t,s){e.exports={img:"Users_img__1xapM",blockUsers:"Users_blockUsers__3m9we",userContainer:"Users_userContainer__ByFbA",search:"Users_search__3wtZJ",pages:"Users_pages__3w-Tu",page:"Users_page__3RLod",currentPage:"Users_currentPage__1ryBN"}},20:function(e,t,s){},25:function(e,t,s){e.exports={post:"Post_post__2bxJF",like:"Post_like__3fJPn"}},36:function(e,t,s){e.exports={header:"Header_header__UBTI-"}},37:function(e,t,s){e.exports={content:"Profile_content__3vKVt"}},46:function(e,t,s){},47:function(e,t,s){},6:function(e,t,s){e.exports={nav:"Navbar_nav__2es-r",item:"Navbar_item__At8-t",activeLink:"Navbar_activeLink__1UvQ1"}},72:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),c=s(17),r=s.n(c),i=(s(46),s(47),s.p+"static/media/react-icon.661ad6ba.svg"),o=s(36),u=s.n(o),l=s(0),j=function(e){return Object(l.jsx)("header",{className:u.a.header,children:Object(l.jsx)("img",{src:i})})},d=s(6),b=s.n(d),g=s(10),p=function(){return Object(l.jsxs)("nav",{className:b.a.nav,children:[Object(l.jsx)("div",{className:b.a.item,children:Object(l.jsx)(g.b,{to:"/profile",activeClassName:b.a.activeLink,children:"Profile"})}),Object(l.jsx)("div",{className:b.a.item,children:Object(l.jsx)(g.b,{to:"/dialogs",activeClassName:b.a.activeLink,children:"Messages"})}),Object(l.jsx)("div",{className:b.a.item,children:Object(l.jsx)(g.b,{to:"/users",activeClassName:b.a.activeLink,children:"Users"})}),Object(l.jsx)("div",{className:b.a.item,children:Object(l.jsx)(g.b,{to:"/news",activeClassName:b.a.activeLink,children:"News"})}),Object(l.jsx)("div",{className:b.a.item,children:Object(l.jsx)(g.b,{to:"/music",activeClassName:b.a.activeLink,children:"Music"})}),Object(l.jsx)("div",{className:b.a.item,children:Object(l.jsx)(g.b,{to:"/settings",activeClassName:b.a.activeLink,children:"Settings"})})]})},h=s(37),O=s.n(h),m=s.p+"static/media/ava.56049164.jpg",x=s.p+"static/media/like.d9056709.png",f=s(25),v=s.n(f),_=function(e){return Object(l.jsxs)("div",{className:v.a.post,children:[Object(l.jsx)("img",{src:m}),e.message,Object(l.jsxs)("div",{className:v.a.like,children:[Object(l.jsx)("img",{src:x}),e.likesCount]})]})},w=s(20),N=s.n(w),P=s.p+"static/media/cover-a1d5b40.428f9943.png",C=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("img",{src:P}),Object(l.jsx)("div",{children:"ava+description"})]})},k=s(19),T=s(3),U="ADD-POST",y="UPDATE-NEW-POST-TEXT",S={posts:[{id:1,message:"Hello, how are you?",likesCount:"20"},{id:2,message:"My first post",likesCount:"15"}],newPostText:""},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:var s={id:3,message:e.newPostText,likesCount:0};return Object(T.a)(Object(T.a)({},e),{},{posts:[].concat(Object(k.a)(e.posts),[s]),newPostText:""});case y:return Object(T.a)(Object(T.a)({},e),{},{newPostText:t.newText});default:return e}},E=s(13),M=Object(E.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{updateNewPostText:function(t){e(function(e){return{type:y,newText:e}}(t))},addNewPost:function(){e({type:U})}}}))((function(e){var t=e.profilePage,s=a.a.createRef();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{className:N.a.main,children:"My posts"}),Object(l.jsxs)("div",{className:N.a.block,children:[Object(l.jsx)("div",{className:N.a.text,children:Object(l.jsx)("textarea",{onChange:function(){var t=s.current.value;e.updateNewPostText(t)},ref:s,value:t.newPostText})}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(){e.addNewPost()},children:"Add post"})})]}),t.posts.map((function(e){return Object(l.jsx)(_,{id:e.id,message:e.message,likesCount:e.likesCount})}))]})})),I=function(e){return Object(l.jsxs)("div",{className:O.a.content,children:[Object(l.jsx)(C,{}),Object(l.jsx)(M,{})]})},L=function(){return Object(l.jsx)("div",{children:"News"})},D=function(){return Object(l.jsx)("div",{children:"Music"})},A=function(){return Object(l.jsx)("div",{children:"Settings"})},z=s(4),B="UPDATE-NEW-MESSAGE-TEXT",J="ADD-MESSAGE",H={dialogs:[{id:1,name:"Nick"},{id:2,name:"Pasha"},{id:3,name:"Lena"},{id:4,name:"Sasha"},{id:5,name:"Tom"}],messages:[{id:1,message:"Hi"},{id:2,message:"How are you?"},{id:3,message:"Yo"}],newMessageText:""},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(T.a)(Object(T.a)({},e),{},{newMessageText:t.body});case J:var s=e.newMessageText;return Object(T.a)(Object(T.a)({},e),{},{newMessageText:"",messages:[].concat(Object(k.a)(e.messages),[{id:4,message:s}])});default:return e}},G=s(12),W=s.n(G),Z=function(e){var t="/dialogs/"+e.id;return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:W.a.dialog,children:Object(l.jsx)(g.b,{to:t,activeClassName:W.a.active,children:e.name})})})},Q=function(e){return Object(l.jsx)("div",{className:W.a.message,children:e.message})},X=Object(E.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{updateNewMessageBody:function(t){e(function(e){return{type:B,body:e}}(t))},sendMessage:function(){e({type:J})}}}))((function(e){var t=e.dialogsPage;return Object(l.jsxs)("div",{className:W.a.dialogs,children:[Object(l.jsx)("div",{className:W.a.dialogsItems,children:t.dialogs.map((function(e){return Object(l.jsx)(Z,{name:e.name,id:e.id})}))}),Object(l.jsx)("div",{className:W.a.messages,children:t.messages.map((function(e){return Object(l.jsx)(Q,{message:e.message,id:e.id})}))}),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:Object(l.jsx)("textarea",{onChange:function(t){var s=t.target.value;e.updateNewMessageBody(s)},value:t.newMessageText})}),Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(){e.sendMessage()},children:"add message"})})]})]})})),q=s(38),K=s(39),V=s(41),Y=s(40),$="FOLLOW",ee="UNFOLLOW",te="SET_USERS",se="SET_IS_FETCHING",ne="SET_CURRENT_PAGE",ae="SET_TOTAL_COUNT",ce={users:[],totalUsersCount:0,pageSize:5,currentPage:1,isFetching:!1},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(T.a)(Object(T.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(T.a)(Object(T.a)({},e),{},{followed:!0}):e}))});case ee:return Object(T.a)(Object(T.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(T.a)(Object(T.a)({},e),{},{followed:!1}):e}))});case te:return Object(T.a)(Object(T.a)({},e),{},{users:t.users,isFetching:!1});case ne:return Object(T.a)(Object(T.a)({},e),{},{currentPage:t.currentPage});case ae:return Object(T.a)(Object(T.a)({},e),{},{totalUsersCount:t.count});case se:return Object(T.a)(Object(T.a)({},e),{},{isFetching:t.boolean});default:return e}},ie=s(26),oe=s(14),ue=s.n(oe),le=s.p+"static/media/profile.05262aba.png";var je=function(e){var t=[];return function(e,t,s){if(t>10)if(s>5)for(var n=s-4;n<=s+5&&(e.push(n),n!=t);n++);else for(var a=1;a<=10&&(e.push(a),a!=t);a++);else for(var c=1;c<=t;c++)e.push(c)}(t,Math.ceil(e.totalUsersCount/e.pageSize),e.currentPage),Object(l.jsxs)("div",{className:ue.a.blockUsers,children:[Object(l.jsxs)("div",{className:ue.a.search,children:[Object(l.jsx)("input",{type:"text",placeholder:"Enter user name"}),Object(l.jsx)("button",{onClick:function(){},children:"Search"})]}),e.users.map((function(t){return Object(l.jsxs)("div",{className:ue.a.userContainer,children:[Object(l.jsxs)("h3",{children:["User name: ",t.name]}),Object(l.jsx)("div",{children:Object(l.jsx)("img",{className:ue.a.img,src:null!=t.photos.small?t.photos.small:le})}),Object(l.jsxs)("div",{children:["Status: ",null!=t.status?t.status:t.status="No status"]}),Object(l.jsx)("div",{children:t.followed?Object(l.jsx)("button",{onClick:function(){e.unFollow(t.id)},children:"Follow"}):Object(l.jsx)("button",{onClick:function(){e.follow(t.id)},children:"Unfollow"})})]},t.id)})),Object(l.jsx)("div",{className:ue.a.pages,children:t.map((function(t,s){return Object(l.jsx)("span",{className:e.currentPage===t?ue.a.currentPage:ue.a.page,onClick:function(){e.onPageChanged(t)},children:t},s)}))})]})},de=s.p+"static/media/preloader.3a3d32d4.gif",be=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:de})})},ge=function(e){Object(V.a)(s,e);var t=Object(Y.a)(s);function s(){var e;Object(q.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.setIsFetching(!0),e.props.setCurrentPage(t),ie.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){e.props.setUsers(t.data.items),e.props.setIsFetching(!1)}))},e}return Object(K.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.setIsFetching(!0),ie.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.setUsers(t.data.items),e.props.setUsersTotalCount(t.data.totalCount),e.props.setIsFetching(!1)}))}},{key:"render",value:function(){return Object(l.jsx)(l.Fragment,{children:this.props.isFetching?Object(l.jsx)(be,{}):Object(l.jsx)(je,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,unFollow:this.props.unFollow,follow:this.props.follow,onPageChanged:this.onPageChanged})})}}]),s}(a.a.Component),pe=Object(E.b)((function(e){return{users:e.usersPage.users,totalUsersCount:e.usersPage.totalUsersCount,pageSize:e.usersPage.pageSize,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),(function(e){return{follow:function(t){e(function(e){return{type:$,userId:e}}(t))},unFollow:function(t){e(function(e){return{type:ee,userId:e}}(t))},setUsers:function(t){e(function(e){return{type:te,users:e}}(t))},setCurrentPage:function(t){e(function(e){return{type:ne,currentPage:e}}(t))},setUsersTotalCount:function(t){e(function(e){return{type:ae,count:e}}(t))},setIsFetching:function(t){e(function(e){return{type:se,boolean:e}}(t))}}}))(ge),he=function(e){return Object(l.jsxs)("div",{className:"app-wrapper",children:[Object(l.jsx)(j,{}),Object(l.jsx)(p,{}),Object(l.jsxs)("div",{className:"app-wrapper-content",children:[Object(l.jsx)(z.a,{exact:!0,path:"/dialogs",render:function(){return Object(l.jsx)(X,{})}}),Object(l.jsx)(z.a,{path:"/profile",render:function(){return Object(l.jsx)(I,{})}}),Object(l.jsx)(z.a,{path:"/users",render:function(){return Object(l.jsx)(pe,{})}}),Object(l.jsx)(z.a,{path:"/news",render:function(){return Object(l.jsx)(L,{})}}),Object(l.jsx)(z.a,{path:"/music",render:function(){return Object(l.jsx)(D,{})}}),Object(l.jsx)(z.a,{path:"/settings",render:function(){return Object(l.jsx)(A,{})}})]})]})},Oe=s(27),me=Object(Oe.a)({profilePage:F,dialogsPage:R,usersPage:re}),xe=Object(Oe.b)(me);window.store=xe;var fe=xe;r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(g.a,{children:Object(l.jsx)(E.a,{store:fe,children:Object(l.jsx)(he,{})})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.16c9ae56.chunk.js.map